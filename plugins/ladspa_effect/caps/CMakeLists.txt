INCLUDE_DIRECTORIES("${CMAKE_SOURCE_DIR}/include")
SET(CMAKE_BUILD_TYPE release)
FILE(GLOB SOURCES *.cc)
ADD_LIBRARY(caps SHARED ${SOURCES})
SET_TARGET_PROPERTIES(caps PROPERTIES PREFIX "")
SET_TARGET_PROPERTIES(caps PROPERTIES COMPILE_FLAGS "-O3 -Wno-write-strings")
SET_TARGET_PROPERTIES(caps PROPERTIES LINK_FLAGS "${LINK_FLAGS} -shared -Wl,-no-undefined")
IF(LMMS_BUILD_LINUX)
SET_TARGET_PROPERTIES(caps PROPERTIES LINK_FLAGS "${LINK_FLAGS} -nostartfiles")
ENDIF(LMMS_BUILD_LINUX)

INSTALL(TARGETS caps LIBRARY DESTINATION ${PLUGIN_DIR}/ladspa)

